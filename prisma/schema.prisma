generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model AuditoriaLogs {
  id              String             @id @default(uuid())
  categoria       AuditoriaCategoria
  tipo            String             @db.VarChar(50)
  acao            String             @db.VarChar(100)
  usuarioId       String?
  entidadeId      String?
  entidadeTipo    String?
  descricao       String             @db.VarChar(500)
  dadosAnteriores Json?
  dadosNovos      Json?
  metadata        Json?
  ip              String?            @db.VarChar(45)
  userAgent       String?            @db.VarChar(500)
  criadoEm        DateTime           @default(now())
  Usuarios        Usuarios?          @relation(fields: [usuarioId], references: [id])

  @@index([categoria])
  @@index([criadoEm])
  @@index([entidadeId])
  @@index([tipo])
  @@index([usuarioId])
}

model AuditoriaScripts {
  id           String       @id @default(uuid())
  nome         String       @db.VarChar(255)
  descricao    String?      @db.VarChar(500)
  tipo         ScriptTipo
  status       ScriptStatus
  executadoPor String
  parametros   Json?
  resultado    Json?
  erro         String?
  duracaoMs    Int?
  criadoEm     DateTime     @default(now())
  executadoEm  DateTime?
  Usuarios     Usuarios     @relation(fields: [executadoPor], references: [id])

  @@index([criadoEm])
  @@index([executadoPor])
  @@index([status])
  @@index([tipo])
}

model AuditoriaTransacoes {
  id                                               String          @id @default(uuid())
  tipo                                             TransacaoTipo
  status                                           TransacaoStatus
  valor                                            Decimal         @db.Decimal(12, 2)
  moeda                                            String          @default("BRL") @db.VarChar(3)
  referencia                                       String?         @db.VarChar(100)
  gateway                                          String?         @db.VarChar(50)
  gatewayId                                        String?         @db.VarChar(100)
  usuarioId                                        String?
  empresaId                                        String?
  metadata                                         Json?
  criadoEm                                         DateTime        @default(now())
  processadoEm                                     DateTime?
  Usuarios_AuditoriaTransacoes_empresaIdToUsuarios Usuarios?       @relation("AuditoriaTransacoes_empresaIdToUsuarios", fields: [empresaId], references: [id])
  Usuarios_AuditoriaTransacoes_usuarioIdToUsuarios Usuarios?       @relation("AuditoriaTransacoes_usuarioIdToUsuarios", fields: [usuarioId], references: [id])

  @@index([criadoEm])
  @@index([empresaId])
  @@index([status])
  @@index([tipo])
  @@index([usuarioId])
}

model CandidatosAreasInteresse {
  id                          Int                           @id @default(autoincrement())
  categoria                   String                        @db.VarChar(120)
  criadoEm                    DateTime                      @default(now())
  atualizadoEm                DateTime                      @default(now())
  CandidatosSubareasInteresse CandidatosSubareasInteresse[]
  EmpresasVagas               EmpresasVagas[]

  @@index([categoria])
}

model CandidatosSubareasInteresse {
  id                       Int                      @id @default(autoincrement())
  areaId                   Int
  nome                     String                   @db.VarChar(120)
  criadoEm                 DateTime                 @default(now())
  atualizadoEm             DateTime                 @default(now())
  CandidatosAreasInteresse CandidatosAreasInteresse @relation(fields: [areaId], references: [id], onDelete: Cascade)
  EmpresasVagas            EmpresasVagas[]

  @@unique([areaId, nome])
  @@index([nome])
}

model CuponsDesconto {
  id                         String                   @id @default(uuid())
  codigo                     String                   @unique
  descricao                  String?                  @db.VarChar(300)
  tipoDesconto               CuponsTipoDesconto
  valorPorcentagem           Decimal?                 @db.Decimal(5, 2)
  valorFixo                  Decimal?                 @db.Decimal(12, 2)
  aplicarEm                  CuponsAplicarEm
  aplicarEmTodosItens        Boolean                  @default(false)
  limiteUsoTotalTipo         CuponsLimiteUso          @default(ILIMITADO)
  limiteUsoTotalQuantidade   Int?
  limitePorUsuarioTipo       CuponsLimiteUsuario      @default(ILIMITADO)
  limitePorUsuarioQuantidade Int?
  periodoTipo                CuponsPeriodo            @default(ILIMITADO)
  periodoInicio              DateTime?
  periodoFim                 DateTime?
  usosTotais                 Int                      @default(0)
  status                     WebsiteStatus            @default(PUBLICADO)
  criadoPorId                String
  criadoEm                   DateTime                 @default(now())
  atualizadoEm               DateTime                 @default(now())
  Usuarios                   Usuarios                 @relation(fields: [criadoPorId], references: [id])
  CuponsDescontoCursos       CuponsDescontoCursos[]
  CuponsDescontoPlanos       CuponsDescontoPlanos[]
  EmpresasPlano              EmpresasPlano[]
  CursosTurmasInscricoes     CursosTurmasInscricoes[]

  @@index([aplicarEm, status])
  @@index([codigo])
  @@index([status])
}

model CuponsDescontoCursos {
  id             Int            @id @default(autoincrement())
  cupomId        String
  cursoId        String
  CuponsDesconto CuponsDesconto @relation(fields: [cupomId], references: [id], onDelete: Cascade)
  Cursos         Cursos         @relation(fields: [cursoId], references: [id], onDelete: Cascade)

  @@unique([cupomId, cursoId])
  @@index([cursoId])
}

model CuponsDescontoPlanos {
  id                 Int                @id @default(autoincrement())
  cupomId            String
  planoId            String
  CuponsDesconto     CuponsDesconto     @relation(fields: [cupomId], references: [id], onDelete: Cascade)
  PlanosEmpresariais PlanosEmpresariais @relation(fields: [planoId], references: [id], onDelete: Cascade)

  @@unique([cupomId, planoId])
  @@index([planoId])
}

model Cursos {
  id                   String                 @id @default(uuid())
  codigo               String                 @unique @db.VarChar(12)
  nome                 String                 @db.VarChar(255)
  descricao            String?
  imagemUrl            String?                @db.VarChar(2048)
  cargaHoraria         Int
  statusPadrao         CursosStatusPadrao     @default(RASCUNHO)
  categoriaId          Int?
  subcategoriaId       Int?
  estagioObrigatorio   Boolean                @default(false)
  // Campos de precificação (apenas o essencial)
  valor                Decimal                @default(0.00) @db.Decimal(10, 2)
  valorPromocional     Decimal?               @db.Decimal(10, 2)
  gratuito             Boolean                @default(false)
  criadoEm             DateTime               @default(now())
  atualizadoEm         DateTime               @default(now())
  CuponsDescontoCursos CuponsDescontoCursos[]
  CursosCategorias     CursosCategorias?      @relation(fields: [categoriaId], references: [id])
  CursosSubcategorias  CursosSubcategorias?   @relation(fields: [subcategoriaId], references: [id])
  CursosEstagios       CursosEstagios[]
  CursosTurmasAulas    CursosTurmasAulas[]
  CursosTurmas         CursosTurmas[]
  CursosTurmasProvas   CursosTurmasProvas[]

  @@index([categoriaId])
  @@index([subcategoriaId])
  @@index([statusPadrao])
  @@index([gratuito])
}

model CursosCategorias {
  id                  Int                   @id @default(autoincrement())
  codCategoria        String                @unique @db.VarChar(12)
  nome                String                @unique @db.VarChar(120)
  descricao           String?               @db.VarChar(255)
  criadoEm            DateTime              @default(now())
  atualizadoEm        DateTime              @default(now())
  Cursos              Cursos[]
  CursosSubcategorias CursosSubcategorias[]

  @@index([nome])
}

model CursosCertificadosEmitidos {
  id                     String                   @id @default(uuid())
  inscricaoId            String
  codigo                 String                   @unique @db.VarChar(20)
  tipo                   CursosCertificados
  formato                CursosCertificadosTipos
  cargaHoraria           Int
  assinaturaUrl          String?                  @db.VarChar(2048)
  alunoNome              String                   @db.VarChar(255)
  alunoCpf               String?                  @db.VarChar(14)
  cursoNome              String                   @db.VarChar(255)
  turmaNome              String                   @db.VarChar(255)
  emitidoPorId           String?
  emitidoEm              DateTime                 @default(now())
  observacoes            String?                  @db.VarChar(500)
  Usuarios               Usuarios?                @relation(fields: [emitidoPorId], references: [id])
  CursosTurmasInscricoes CursosTurmasInscricoes   @relation(fields: [inscricaoId], references: [id], onDelete: Cascade)
  CursosCertificadosLogs CursosCertificadosLogs[]

  @@index([emitidoEm])
  @@index([emitidoPorId])
  @@index([inscricaoId])
}

model CursosCertificadosLogs {
  id                         String                     @id @default(uuid())
  certificadoId              String
  acao                       CursosCertificadosLogAcao
  formato                    CursosCertificadosTipos
  detalhes                   String?                    @db.VarChar(500)
  criadoEm                   DateTime                   @default(now())
  CursosCertificadosEmitidos CursosCertificadosEmitidos @relation(fields: [certificadoId], references: [id], onDelete: Cascade)

  @@index([acao])
  @@index([certificadoId])
  @@index([criadoEm])
}

model CursosEstagios {
  id                                                String                       @id @default(uuid())
  cursoId                                           String
  turmaId                                           String
  inscricaoId                                       String
  alunoId                                           String
  nome                                              String                       @db.VarChar(255)
  descricao                                         String?
  obrigatorio                                       Boolean                      @default(false)
  status                                            CursosEstagioStatus          @default(PENDENTE)
  dataInicio                                        DateTime
  dataFim                                           DateTime
  cargaHoraria                                      Int?
  empresaPrincipal                                  String?                      @db.VarChar(255)
  observacoes                                       String?
  criadoPorId                                       String?
  atualizadoPorId                                   String?
  confirmadoEm                                      DateTime?
  concluidoEm                                       DateTime?
  reprovadoEm                                       DateTime?
  reprovadoMotivo                                   String?
  ultimoAvisoEncerramento                           DateTime?
  criadoEm                                          DateTime                     @default(now())
  atualizadoEm                                      DateTime                     @default(now())
  Usuarios_CursosEstagios_alunoIdToUsuarios         Usuarios                     @relation("CursosEstagios_alunoIdToUsuarios", fields: [alunoId], references: [id], onDelete: Cascade)
  Usuarios_CursosEstagios_atualizadoPorIdToUsuarios Usuarios?                    @relation("CursosEstagios_atualizadoPorIdToUsuarios", fields: [atualizadoPorId], references: [id])
  Usuarios_CursosEstagios_criadoPorIdToUsuarios     Usuarios?                    @relation("CursosEstagios_criadoPorIdToUsuarios", fields: [criadoPorId], references: [id])
  Cursos                                            Cursos                       @relation(fields: [cursoId], references: [id], onDelete: Cascade)
  CursosTurmasInscricoes                            CursosTurmasInscricoes       @relation(fields: [inscricaoId], references: [id], onDelete: Cascade)
  CursosTurmas                                      CursosTurmas                 @relation(fields: [turmaId], references: [id], onDelete: Cascade)
  CursosEstagiosConfirmacoes                        CursosEstagiosConfirmacoes?
  CursosEstagiosLocais                              CursosEstagiosLocais[]
  CursosEstagiosNotificacoes                        CursosEstagiosNotificacoes[]

  @@index([alunoId])
  @@index([cursoId])
  @@index([dataFim])
  @@index([inscricaoId])
  @@index([status])
  @@index([turmaId])
}

model CursosEstagiosConfirmacoes {
  id                 String         @id @default(uuid())
  estagioId          String         @unique
  token              String         @unique @db.VarChar(64)
  protocolo          String?        @unique @db.VarChar(40)
  confirmadoEm       DateTime?
  ip                 String?        @db.VarChar(45)
  userAgent          String?        @db.VarChar(500)
  deviceTipo         String?        @db.VarChar(50)
  deviceDescricao    String?        @db.VarChar(120)
  deviceId           String?        @db.VarChar(120)
  sistemaOperacional String?        @db.VarChar(120)
  navegador          String?        @db.VarChar(120)
  localizacao        String?        @db.VarChar(255)
  criadoEm           DateTime       @default(now())
  atualizadoEm       DateTime       @default(now())
  CursosEstagios     CursosEstagios @relation(fields: [estagioId], references: [id], onDelete: Cascade)
}

model CursosEstagiosLocais {
  id                  String                   @id @default(uuid())
  estagioId           String
  titulo              String?                  @db.VarChar(120)
  empresaNome         String                   @db.VarChar(255)
  empresaDocumento    String?                  @db.VarChar(20)
  contatoNome         String?                  @db.VarChar(120)
  contatoEmail        String?                  @db.VarChar(255)
  contatoTelefone     String?                  @db.VarChar(30)
  dataInicio          DateTime?
  dataFim             DateTime?
  horarioInicio       String?                  @db.VarChar(5)
  horarioFim          String?                  @db.VarChar(5)
  diasSemana          CursosEstagioDiaSemana[]
  cargaHorariaSemanal Int?
  cep                 String?                  @db.VarChar(12)
  logradouro          String?                  @db.VarChar(255)
  numero              String?                  @db.VarChar(20)
  bairro              String?                  @db.VarChar(120)
  cidade              String?                  @db.VarChar(120)
  estado              String?                  @db.VarChar(2)
  complemento         String?                  @db.VarChar(120)
  pontoReferencia     String?                  @db.VarChar(255)
  observacoes         String?                  @db.VarChar(500)
  criadoEm            DateTime                 @default(now())
  atualizadoEm        DateTime                 @default(now())
  CursosEstagios      CursosEstagios           @relation(fields: [estagioId], references: [id], onDelete: Cascade)

  @@index([estagioId])
}

model CursosEstagiosNotificacoes {
  id             String                       @id @default(uuid())
  estagioId      String
  tipo           CursosEstagioNotificacaoTipo
  canal          String?                      @db.VarChar(50)
  enviadoPara    String                       @db.VarChar(255)
  enviadoEm      DateTime                     @default(now())
  detalhes       String?                      @db.VarChar(500)
  CursosEstagios CursosEstagios               @relation(fields: [estagioId], references: [id], onDelete: Cascade)

  @@index([estagioId])
  @@index([tipo])
}

model CursosFrequenciaAlunos {
  id                     String                 @id @default(uuid())
  turmaId                String
  inscricaoId            String
  aulaId                 String?
  dataReferencia         DateTime               @default(now())
  status                 CursosFrequenciaStatus @default(PRESENTE)
  justificativa          String?                @db.VarChar(500)
  observacoes            String?                @db.VarChar(500)
  criadoEm               DateTime               @default(now())
  atualizadoEm           DateTime               @default(now())
  CursosTurmasAulas      CursosTurmasAulas?     @relation(fields: [aulaId], references: [id])
  CursosTurmasInscricoes CursosTurmasInscricoes @relation(fields: [inscricaoId], references: [id], onDelete: Cascade)
  CursosTurmas           CursosTurmas           @relation(fields: [turmaId], references: [id], onDelete: Cascade)

  @@unique([turmaId, inscricaoId, aulaId, dataReferencia], map: "cursos_frequencia_unico")
  @@index([aulaId])
  @@index([dataReferencia])
  @@index([inscricaoId])
  @@index([turmaId])
}

model CursosNotas {
  id                     String                 @id @default(uuid())
  turmaId                String
  inscricaoId            String
  tipo                   CursosNotasTipo
  provaId                String?
  referenciaExterna      String?                @db.VarChar(120)
  titulo                 String                 @db.VarChar(255)
  descricao              String?                @db.VarChar(1000)
  nota                   Decimal?               @db.Decimal(4, 1)
  peso                   Decimal?               @db.Decimal(5, 2)
  valorMaximo            Decimal?               @db.Decimal(4, 1)
  dataReferencia         DateTime?
  observacoes            String?                @db.VarChar(500)
  criadoEm               DateTime               @default(now())
  atualizadoEm           DateTime               @default(now())
  CursosTurmasInscricoes CursosTurmasInscricoes @relation(fields: [inscricaoId], references: [id], onDelete: Cascade)
  CursosTurmasProvas     CursosTurmasProvas?    @relation(fields: [provaId], references: [id])
  CursosTurmas           CursosTurmas           @relation(fields: [turmaId], references: [id], onDelete: Cascade)

  @@unique([inscricaoId, provaId])
  @@index([inscricaoId])
  @@index([tipo])
  @@index([turmaId])
}

model CursosSubcategorias {
  id               Int              @id @default(autoincrement())
  codSubcategoria  String           @unique @db.VarChar(12)
  nome             String           @db.VarChar(120)
  descricao        String?          @db.VarChar(255)
  categoriaId      Int
  criadoEm         DateTime         @default(now())
  atualizadoEm     DateTime         @default(now())
  Cursos           Cursos[]
  CursosCategorias CursosCategorias @relation(fields: [categoriaId], references: [id], onDelete: Cascade)

  @@unique([categoriaId, nome])
  @@index([nome])
}

model CursosTurmas {
  id                          String                       @id @default(uuid())
  codigo                      String                       @unique @db.VarChar(12)
  cursoId                     String
  instrutorId                 String?
  nome                        String                       @db.VarChar(255)
  turno                       CursosTurnos                 @default(INTEGRAL)
  metodo                      CursosMetodos                @default(ONLINE)
  dataInicio                  DateTime?
  dataFim                     DateTime?
  dataInscricaoInicio         DateTime?
  dataInscricaoFim            DateTime?
  vagasTotais                 Int
  vagasDisponiveis            Int
  status                      CursoStatus                  @default(RASCUNHO)
  criadoEm                    DateTime                     @default(now())
  atualizadoEm                DateTime                     @default(now())
  CursosEstagios              CursosEstagios[]
  CursosFrequenciaAlunos      CursosFrequenciaAlunos[]
  CursosNotas                 CursosNotas[]
  Cursos                      Cursos                       @relation(fields: [cursoId], references: [id], onDelete: Cascade)
  Usuarios                    Usuarios?                    @relation(fields: [instrutorId], references: [id])
  CursosTurmasAgenda          CursosTurmasAgenda[]
  CursosTurmasAulas           CursosTurmasAulas[]
  CursosTurmasInscricoes      CursosTurmasInscricoes[]
  CursosTurmasModulos         CursosTurmasModulos[]
  CursosTurmasProvas          CursosTurmasProvas[]
  CursosTurmasRecuperacoes    CursosTurmasRecuperacoes[]
  CursosTurmasRegrasAvaliacao CursosTurmasRegrasAvaliacao?
  cursosAulasProgressos       CursosAulasProgresso[]

  @@index([cursoId])
  @@index([instrutorId])
  @@index([status])
}

model CursosTurmasAgenda {
  id                 String              @id @default(uuid())
  turmaId            String
  tipo               CursosAgendaTipo
  titulo             String              @db.VarChar(255)
  descricao          String?             @db.VarChar(1000)
  inicio             DateTime
  fim                DateTime?
  aulaId             String?
  provaId            String?
  criadoEm           DateTime            @default(now())
  atualizadoEm       DateTime            @default(now())
  CursosTurmasAulas  CursosTurmasAulas?  @relation(fields: [aulaId], references: [id])
  CursosTurmasProvas CursosTurmasProvas? @relation(fields: [provaId], references: [id])
  CursosTurmas       CursosTurmas        @relation(fields: [turmaId], references: [id], onDelete: Cascade)

  @@index([aulaId])
  @@index([provaId])
  @@index([tipo])
  @@index([turmaId, inicio])
}

model CursosTurmasAulas {
  id                            String                       @id @default(uuid())
  codigo                        String                       @unique @db.VarChar(12)
  cursoId                       String?
  turmaId                       String?
  instrutorId                   String?
  moduloId                      String?
  nome                          String                       @db.VarChar(255)
  descricao                     String?
  ordem                         Int                          @default(0)
  urlVideo                      String?                      @db.VarChar(2048)
  sala                          String?                      @db.VarChar(100)
  urlMeet                       String?                      @db.VarChar(2048)
  // Novos campos de modalidade e controle
  modalidade                    CursosMetodos                @default(ONLINE)
  tipoLink                      CursosTipoLink?
  obrigatoria                   Boolean                      @default(true)
  duracaoMinutos                Int?
  status                        CursosAulaStatus             @default(PUBLICADA)
  // Google Meet integração
  meetEventId                   String?                      @db.VarChar(255)
  // Configurações de gravação (apenas AO_VIVO)
  gravarAula                    Boolean?                     @default(true)
  linkGravacao                  String?                      @db.VarChar(2048)
  duracaoGravacao               Int?
  statusGravacao                String?                      @db.VarChar(50)
  // Materiais complementares
  apenasMateriaisComplementares Boolean                      @default(false)
  // Controle de inserção
  adicionadaAposCriacao         Boolean                      @default(false)
  // Período específico
  dataInicio                    DateTime?
  dataFim                       DateTime?
  horaInicio                    String?                      @db.VarChar(5)
  horaFim                       String?                      @db.VarChar(5)
  // Auditoria
  criadoPorId                   String?
  criadoPor                     Usuarios?                    @relation("AulasCriadas", fields: [criadoPorId], references: [id], onDelete: SetNull)
  instrutor                     Usuarios?                    @relation("AulasInstrutor", fields: [instrutorId], references: [id], onDelete: SetNull)
  deletedAt                     DateTime?
  deletedBy                     String?
  criadoEm                      DateTime                     @default(now())
  atualizadoEm                  DateTime                     @default(now())
  // Relacionamentos existentes
  CursosFrequenciaAlunos        CursosFrequenciaAlunos[]
  CursosTurmasAgenda            CursosTurmasAgenda[]
  Cursos                        Cursos?                      @relation(fields: [cursoId], references: [id], onDelete: Cascade)
  CursosTurmasModulos           CursosTurmasModulos?         @relation(fields: [moduloId], references: [id])
  CursosTurmas                  CursosTurmas?                @relation(fields: [turmaId], references: [id], onDelete: Cascade)
  CursosTurmasAulasMateriais    CursosTurmasAulasMateriais[]
  // Novos relacionamentos
  CursosAulasProgresso          CursosAulasProgresso[]
  CursosAulasHistorico          CursosAulasHistorico[]
  AulaInstrutorHistorico        AulaInstrutorHistorico[]

  @@index([moduloId])
  @@index([codigo])
  @@index([cursoId])
  @@index([turmaId])
  @@index([instrutorId])
  @@index([turmaId, ordem])
  @@index([status])
  @@index([modalidade])
  @@index([criadoPorId])
  @@index([dataInicio, dataFim])
  @@index([deletedAt])
}

model AulaInstrutorHistorico {
  id                String            @id @default(uuid())
  aulaId            String
  instrutorId       String
  vinculadoEm       DateTime
  removidoEm        DateTime          @default(now())
  removidoPorId     String
  aulaJaAconteceu   Boolean           @default(false)
  CursosTurmasAulas CursosTurmasAulas @relation(fields: [aulaId], references: [id], onDelete: Cascade)
  Instrutor         Usuarios          @relation("HistoricoInstrutor", fields: [instrutorId], references: [id], onDelete: Cascade)
  RemovidoPor       Usuarios          @relation("HistoricoRemovidoPor", fields: [removidoPorId], references: [id], onDelete: Cascade)

  @@index([aulaId])
  @@index([instrutorId])
  @@index([removidoEm])
}

model CursosTurmasAulasMateriais {
  id                String            @id @default(uuid())
  aulaId            String
  titulo            String            @db.VarChar(255)
  descricao         String?           @db.VarChar(2000)
  tipo              CursosMateriais
  tipoArquivo       TiposDeArquivos?
  url               String?           @db.VarChar(2048)
  duracaoEmSegundos Int?
  tamanhoEmBytes    Int?
  ordem             Int               @default(0)
  criadoEm          DateTime          @default(now())
  atualizadoEm      DateTime          @default(now())
  CursosTurmasAulas CursosTurmasAulas @relation(fields: [aulaId], references: [id], onDelete: Cascade)

  @@index([aulaId])
  @@index([tipo])
}

model CursosAulasProgresso {
  id                     String                 @id @default(uuid())
  aulaId                 String
  turmaId                String
  inscricaoId            String
  alunoId                String
  percentualAssistido    Decimal                @default(0) @db.Decimal(5, 2)
  tempoAssistidoSegundos Int                    @default(0)
  concluida              Boolean                @default(false)
  concluidaEm            DateTime?
  ultimaPosicao          Int                    @default(0)
  iniciadoEm             DateTime?
  atualizadoEm           DateTime               @default(now())
  CursosTurmasAulas      CursosTurmasAulas      @relation(fields: [aulaId], references: [id], onDelete: Cascade)
  CursosTurmas           CursosTurmas           @relation(fields: [turmaId], references: [id], onDelete: Cascade)
  CursosTurmasInscricoes CursosTurmasInscricoes @relation(fields: [inscricaoId], references: [id], onDelete: Cascade)
  Usuarios               Usuarios               @relation("AulasProgresso", fields: [alunoId], references: [id], onDelete: Cascade)

  @@unique([aulaId, inscricaoId])
  @@index([alunoId])
  @@index([inscricaoId])
  @@index([turmaId, alunoId])
  @@index([concluida])
}

model CursosAulasHistorico {
  id                String              @id @default(uuid())
  aulaId            String
  usuarioId         String
  acao              CursosAcaoHistorico
  camposAlterados   Json?
  turmaId           String?
  ip                String?             @db.VarChar(45)
  userAgent         String?             @db.VarChar(500)
  criadoEm          DateTime            @default(now())
  CursosTurmasAulas CursosTurmasAulas   @relation(fields: [aulaId], references: [id], onDelete: Cascade)
  Usuarios          Usuarios            @relation("AulasHistorico", fields: [usuarioId], references: [id], onDelete: Cascade)

  @@index([aulaId])
  @@index([usuarioId])
  @@index([criadoEm])
  @@index([acao])
}

model NotificacoesEnviadas {
  id        String   @id @default(uuid())
  tipo      String   @db.VarChar(50)
  eventoId  String   @db.VarChar(36)
  usuarioId String
  enviadaEm DateTime @default(now())
  Usuarios  Usuarios @relation("NotificacoesEnviadas", fields: [usuarioId], references: [id], onDelete: Cascade)

  @@unique([tipo, eventoId, usuarioId])
  @@index([eventoId])
  @@index([tipo])
  @@index([usuarioId])
}

model CursosTurmasInscricoes {
  id                          String                        @id @default(uuid())
  turmaId                     String
  alunoId                     String
  criadoEm                    DateTime                      @default(now())
  status                      StatusInscricao               @default(INSCRITO)
  // Campos de pagamento e token de acesso
  codigo                      String?                       @unique @db.VarChar(20)
  statusPagamento             String                        @default("PENDENTE") @db.VarChar(50)
  mpPaymentId                 String?                       @db.VarChar(255)
  tokenAcesso                 String?                       @unique @db.VarChar(500)
  tokenAcessoExpiraEm         DateTime?
  valorPago                   Decimal?                      @db.Decimal(10, 2)
  metodoPagamento             String?                       @db.VarChar(50)
  // Aceite de termos
  aceitouTermos               Boolean                       @default(false)
  aceitouTermosIp             String?                       @db.VarChar(45)
  aceitouTermosUserAgent      String?                       @db.VarChar(500)
  aceitouTermosEm             DateTime?
  // Cupom de desconto
  cupomDescontoId             String?
  cupomDescontoCodigo         String?                       @db.VarChar(40)
  valorOriginal               Decimal?                      @db.Decimal(10, 2)
  valorDesconto               Decimal?                      @db.Decimal(10, 2)
  valorFinal                  Decimal?                      @db.Decimal(10, 2)
  CursosCertificadosEmitidos  CursosCertificadosEmitidos[]
  CursosEstagios              CursosEstagios[]
  CursosFrequenciaAlunos      CursosFrequenciaAlunos[]
  CursosNotas                 CursosNotas[]
  Usuarios                    Usuarios                      @relation(fields: [alunoId], references: [id], onDelete: Cascade)
  CursosTurmas                CursosTurmas                  @relation(fields: [turmaId], references: [id], onDelete: Cascade)
  CursosTurmasProvasEnvios    CursosTurmasProvasEnvios[]
  CursosTurmasRecuperacoes    CursosTurmasRecuperacoes[]
  CursosTurmasProvasRespostas CursosTurmasProvasRespostas[]
  CuponsDesconto              CuponsDesconto?               @relation(fields: [cupomDescontoId], references: [id])
  CursosAulasProgresso        CursosAulasProgresso[]

  @@unique([turmaId, alunoId])
  @@index([alunoId])
  @@index([status])
  @@index([statusPagamento])
  @@index([mpPaymentId])
  @@index([tokenAcesso])
  @@index([codigo])
}

model CursosTurmasModulos {
  id                 String               @id @default(uuid())
  turmaId            String
  nome               String               @db.VarChar(255)
  descricao          String?
  obrigatorio        Boolean              @default(true)
  ordem              Int                  @default(0)
  criadoEm           DateTime             @default(now())
  atualizadoEm       DateTime             @default(now())
  CursosTurmasAulas  CursosTurmasAulas[]
  CursosTurmas       CursosTurmas         @relation(fields: [turmaId], references: [id], onDelete: Cascade)
  CursosTurmasProvas CursosTurmasProvas[]

  @@index([turmaId])
  @@index([turmaId, ordem])
}

model CursosTurmasProvas {
  id                         String                       @id @default(uuid())
  cursoId                    String?
  turmaId                    String?
  moduloId                   String?
  instrutorId                String?
  tipo                       CursosAvaliacaoTipo          @default(PROVA)
  tipoAtividade              CursosAtividadeTipo?
  recuperacaoFinal           Boolean                      @default(false)
  titulo                     String                       @db.VarChar(255)
  etiqueta                   String                       @db.VarChar(30)
  descricao                  String?
  peso                       Decimal                      @db.Decimal(5, 2)
  valePonto                  Boolean                      @default(true)
  ativo                      Boolean                      @default(true)
  status                     CursosAulaStatus             @default(RASCUNHO)
  modalidade                 CursosMetodos                @default(ONLINE)
  obrigatoria                Boolean                      @default(true)
  dataInicio                 DateTime?
  dataFim                    DateTime?
  horaInicio                 String?                      @db.VarChar(5)
  horaTermino                String?                      @db.VarChar(5)
  localizacao                CursosLocalProva             @default(TURMA)
  ordem                      Int                          @default(0)
  criadoEm                   DateTime                     @default(now())
  atualizadoEm               DateTime                     @default(now())
  CursosNotas                CursosNotas[]
  CursosTurmasAgenda         CursosTurmasAgenda[]
  CursosTurmas               CursosTurmas?                @relation(fields: [turmaId], references: [id], onDelete: Cascade)
  Cursos                     Cursos?                      @relation(fields: [cursoId], references: [id], onDelete: Cascade)
  CursosTurmasModulos        CursosTurmasModulos?         @relation(fields: [moduloId], references: [id])
  Usuarios                   Usuarios?                    @relation(fields: [instrutorId], references: [id])
  CursosTurmasProvasEnvios   CursosTurmasProvasEnvios[]
  CursosTurmasRecuperacoes   CursosTurmasRecuperacoes[]
  CursosTurmasProvasQuestoes CursosTurmasProvasQuestoes[]

  @@unique([turmaId, etiqueta])
  @@index([cursoId])
  @@index([moduloId])
  @@index([turmaId, ativo])
  @@index([turmaId])
  @@index([instrutorId])
  @@index([status])
}

model CursosTurmasProvasEnvios {
  id                          String                        @id @default(uuid())
  provaId                     String
  inscricaoId                 String
  nota                        Decimal?                      @db.Decimal(4, 1)
  pesoTotal                   Decimal?                      @db.Decimal(5, 2)
  realizadoEm                 DateTime?
  observacoes                 String?
  criadoEm                    DateTime                      @default(now())
  atualizadoEm                DateTime                      @default(now())
  CursosTurmasInscricoes      CursosTurmasInscricoes        @relation(fields: [inscricaoId], references: [id], onDelete: Cascade)
  CursosTurmasProvas          CursosTurmasProvas            @relation(fields: [provaId], references: [id], onDelete: Cascade)
  CursosTurmasRecuperacoes    CursosTurmasRecuperacoes[]
  CursosTurmasProvasRespostas CursosTurmasProvasRespostas[]

  @@unique([provaId, inscricaoId])
  @@index([inscricaoId])
}

model CursosTurmasRecuperacoes {
  id                          String                       @id @default(uuid())
  turmaId                     String
  inscricaoId                 String
  regraId                     String?
  provaId                     String?
  envioId                     String?
  notaRecuperacao             Decimal?                     @db.Decimal(4, 1)
  notaFinal                   Decimal?                     @db.Decimal(4, 1)
  mediaCalculada              Decimal?                     @db.Decimal(4, 2)
  modeloAplicado              CursosModelosRecuperacao?
  statusFinal                 CursosSituacaoFinal          @default(EM_ANALISE)
  detalhes                    Json?
  observacoes                 String?                      @db.VarChar(500)
  aplicadoEm                  DateTime?                    @default(now())
  criadoEm                    DateTime                     @default(now())
  atualizadoEm                DateTime                     @default(now())
  CursosTurmasProvasEnvios    CursosTurmasProvasEnvios?    @relation(fields: [envioId], references: [id])
  CursosTurmasInscricoes      CursosTurmasInscricoes       @relation(fields: [inscricaoId], references: [id], onDelete: Cascade)
  CursosTurmasProvas          CursosTurmasProvas?          @relation(fields: [provaId], references: [id])
  CursosTurmasRegrasAvaliacao CursosTurmasRegrasAvaliacao? @relation(fields: [regraId], references: [id])
  CursosTurmas                CursosTurmas                 @relation(fields: [turmaId], references: [id], onDelete: Cascade)

  @@index([inscricaoId])
  @@index([statusFinal])
  @@index([turmaId])
}

model CursosTurmasProvasQuestoes {
  id                                     String                                   @id @default(uuid())
  provaId                                String
  enunciado                              String                                   @db.VarChar(2000)
  tipo                                   CursosTipoQuestao
  ordem                                  Int                                      @default(0)
  peso                                   Decimal?                                 @db.Decimal(5, 2)
  obrigatoria                            Boolean                                  @default(true)
  criadoEm                               DateTime                                 @default(now())
  atualizadoEm                           DateTime                                 @default(now())
  CursosTurmasProvas                     CursosTurmasProvas                       @relation(fields: [provaId], references: [id], onDelete: Cascade)
  CursosTurmasProvasQuestoesAlternativas CursosTurmasProvasQuestoesAlternativas[]
  CursosTurmasProvasRespostas            CursosTurmasProvasRespostas[]

  @@index([provaId])
  @@index([provaId, ordem])
}

model CursosTurmasProvasQuestoesAlternativas {
  id                          String                        @id @default(uuid())
  questaoId                   String
  texto                       String                        @db.VarChar(1000)
  ordem                       Int                           @default(0)
  correta                     Boolean                       @default(false)
  criadoEm                    DateTime                      @default(now())
  atualizadoEm                DateTime                      @default(now())
  CursosTurmasProvasQuestoes  CursosTurmasProvasQuestoes    @relation(fields: [questaoId], references: [id], onDelete: Cascade)
  CursosTurmasProvasRespostas CursosTurmasProvasRespostas[]

  @@index([questaoId])
  @@index([questaoId, ordem])
}

model CursosTurmasProvasRespostas {
  id                                     String                                  @id @default(uuid())
  questaoId                              String
  inscricaoId                            String
  envioId                                String?
  respostaTexto                          String?                                 @db.Text
  alternativaId                          String?
  anexoUrl                               String?                                 @db.VarChar(500)
  anexoNome                              String?                                 @db.VarChar(255)
  corrigida                              Boolean                                 @default(false)
  nota                                   Decimal?                                @db.Decimal(4, 1)
  observacoes                            String?                                 @db.VarChar(1000)
  criadoEm                               DateTime                                @default(now())
  atualizadoEm                           DateTime                                @default(now())
  CursosTurmasProvasQuestoes             CursosTurmasProvasQuestoes              @relation(fields: [questaoId], references: [id], onDelete: Cascade)
  CursosTurmasProvasQuestoesAlternativas CursosTurmasProvasQuestoesAlternativas? @relation(fields: [alternativaId], references: [id], onDelete: SetNull)
  CursosTurmasInscricoes                 CursosTurmasInscricoes                  @relation(fields: [inscricaoId], references: [id], onDelete: Cascade)
  CursosTurmasProvasEnvios               CursosTurmasProvasEnvios?               @relation(fields: [envioId], references: [id], onDelete: SetNull)

  @@unique([questaoId, inscricaoId])
  @@index([inscricaoId])
  @@index([questaoId])
  @@index([envioId])
}

model CursosTurmasRegrasAvaliacao {
  id                        String                     @id @default(uuid())
  turmaId                   String                     @unique
  mediaMinima               Decimal                    @db.Decimal(4, 1)
  politicaRecuperacaoAtiva  Boolean                    @default(false)
  modelosRecuperacao        CursosModelosRecuperacao[] @default([])
  ordemAplicacaoRecuperacao CursosModelosRecuperacao[] @default([])
  notaMaximaRecuperacao     Decimal?                   @db.Decimal(4, 1)
  pesoProvaFinal            Decimal?                   @db.Decimal(5, 2)
  observacoes               String?                    @db.VarChar(500)
  criadoEm                  DateTime                   @default(now())
  atualizadoEm              DateTime                   @default(now())
  CursosTurmasRecuperacoes  CursosTurmasRecuperacoes[]
  CursosTurmas              CursosTurmas               @relation(fields: [turmaId], references: [id], onDelete: Cascade)
}

model EmpresasAuditoria {
  id                                               String                @id @default(uuid())
  empresaId                                        String
  alteradoPor                                      String
  acao                                             EmpresasAuditoriaAcao
  campo                                            String?               @db.VarChar(100)
  valorAnterior                                    String?               @db.VarChar(500)
  valorNovo                                        String?               @db.VarChar(500)
  descricao                                        String                @db.VarChar(500)
  metadata                                         Json?
  criadoEm                                         DateTime              @default(now())
  Usuarios_EmpresasAuditoria_alteradoPorToUsuarios Usuarios              @relation("EmpresasAuditoria_alteradoPorToUsuarios", fields: [alteradoPor], references: [id])
  Usuarios_EmpresasAuditoria_empresaIdToUsuarios   Usuarios              @relation("EmpresasAuditoria_empresaIdToUsuarios", fields: [empresaId], references: [id], onDelete: Cascade)

  @@index([acao])
  @@index([alteradoPor])
  @@index([criadoEm])
  @@index([empresaId])
}

model EmpresasCandidatos {
  id                                                     String                    @id @default(uuid())
  vagaId                                                 String
  candidatoId                                            String
  curriculoId                                            String?
  empresaUsuarioId                                       String
  statusId                                               String
  origem                                                 OrigemVagas               @default(SITE)
  aplicadaEm                                             DateTime                  @default(now())
  atualizadaEm                                           DateTime                  @default(now())
  consentimentos                                         Json?
  Usuarios_EmpresasCandidatos_candidatoIdToUsuarios      Usuarios                  @relation("EmpresasCandidatos_candidatoIdToUsuarios", fields: [candidatoId], references: [id], onDelete: Cascade)
  UsuariosCurriculos                                     UsuariosCurriculos?       @relation(fields: [curriculoId], references: [id])
  Usuarios_EmpresasCandidatos_empresaUsuarioIdToUsuarios Usuarios                  @relation("EmpresasCandidatos_empresaUsuarioIdToUsuarios", fields: [empresaUsuarioId], references: [id])
  status_processo                                        StatusProcessosCandidatos @relation(fields: [statusId], references: [id])
  EmpresasVagas                                          EmpresasVagas             @relation(fields: [vagaId], references: [id], onDelete: Cascade)
  Notificacoes                                           Notificacoes[]

  @@unique([vagaId, candidatoId, curriculoId])
  @@index([statusId])
  @@index([vagaId, candidatoId])
}

model EmpresasPlano {
  id                     String                  @id @default(uuid())
  usuarioId              String
  planosEmpresariaisId   String
  modo                   EmpresasPlanoModo       @default(CLIENTE)
  status                 EmpresasPlanoStatus     @default(SUSPENSO)
  origin                 EmpresasPlanoOrigin     @default(CHECKOUT)
  inicio                 DateTime?
  fim                    DateTime?
  criadoEm               DateTime                @default(now())
  atualizadoEm           DateTime                @default(now())
  modeloPagamento        MODELO_PAGAMENTO?
  metodoPagamento        METODO_PAGAMENTO?
  statusPagamento        STATUS_PAGAMENTO?       @default(PENDENTE)
  mpPreapprovalId        String?                 @unique
  mpSubscriptionId       String?                 @unique
  mpPayerId              String?
  mpPaymentId            String?
  proximaCobranca        DateTime?
  graceUntil             DateTime?
  // Aceite de termos de contratação
  aceitouTermos          Boolean                 @default(false)
  aceitouTermosEm        DateTime?
  aceitouTermosIp        String?                 @db.VarChar(45)
  aceitouTermosUserAgent String?                 @db.VarChar(500)
  // Cupom de desconto aplicado
  cupomDescontoId        String?
  cupomDescontoCodigo    String?                 @db.VarChar(40)
  valorOriginal          Decimal?                @db.Decimal(12, 2)
  valorDesconto          Decimal?                @db.Decimal(12, 2)
  valorFinal             Decimal?                @db.Decimal(12, 2)
  PlanosEmpresariais     PlanosEmpresariais      @relation(fields: [planosEmpresariaisId], references: [id])
  Usuarios               Usuarios                @relation(fields: [usuarioId], references: [id], onDelete: Cascade)
  CuponsDesconto         CuponsDesconto?         @relation(fields: [cupomDescontoId], references: [id])
  EmpresasVagasDestaque  EmpresasVagasDestaque[]
  Requerimentos          Requerimentos[]
  Notificacoes           Notificacoes[]

  @@index([planosEmpresariaisId])
  @@index([usuarioId, status])
  @@index([cupomDescontoId])
}

model EmpresasVagas {
  id                          String                       @id @default(uuid())
  codigo                      String                       @unique @db.VarChar(6)
  slug                        String                       @unique @db.VarChar(120)
  usuarioId                   String
  categoriaVagaId             String?
  subcategoriaVagaId          String?
  areaInteresseId             Int?
  subareaInteresseId          Int?
  modoAnonimo                 Boolean                      @default(false)
  regimeDeTrabalho            RegimesDeTrabalhos
  modalidade                  ModalidadesDeVagas
  titulo                      String                       @db.VarChar(255)
  paraPcd                     Boolean                      @default(false)
  numeroVagas                 Int                          @default(1)
  descricao                   String?
  requisitos                  Json
  atividades                  Json
  beneficios                  Json
  observacoes                 String?
  jornada                     Jornadas                     @default(INTEGRAL)
  senioridade                 Senioridade                  @default(ABERTO)
  inscricoesAte               DateTime?
  inseridaEm                  DateTime                     @default(now())
  atualizadoEm                DateTime                     @default(now())
  status                      StatusDeVagas                @default(RASCUNHO)
  localizacao                 Json?
  salarioMin                  Decimal?                     @db.Decimal(12, 2)
  salarioMax                  Decimal?                     @db.Decimal(12, 2)
  salarioConfidencial         Boolean                      @default(true)
  destaque                    Boolean                      @default(false)
  EmpresasCandidatos          EmpresasCandidatos[]
  CandidatosAreasInteresse    CandidatosAreasInteresse?    @relation(fields: [areaInteresseId], references: [id])
  EmpresasVagasCategorias     EmpresasVagasCategorias?     @relation(fields: [categoriaVagaId], references: [id])
  CandidatosSubareasInteresse CandidatosSubareasInteresse? @relation(fields: [subareaInteresseId], references: [id])
  EmpresasVagasSubcategorias  EmpresasVagasSubcategorias?  @relation(fields: [subcategoriaVagaId], references: [id])
  Usuarios                    Usuarios                     @relation(fields: [usuarioId], references: [id], onDelete: Cascade)
  EmpresasVagasDestaque       EmpresasVagasDestaque?
  EmpresasVagasProcesso       EmpresasVagasProcesso[]
  EmpresasVagasEntrevistas    EmpresasVagasEntrevistas[]
  UsuariosVagasVinculos       UsuariosVagasVinculos[]
  Requerimentos               Requerimentos[]
  Notificacoes                Notificacoes[]

  @@index([areaInteresseId])
  @@index([categoriaVagaId])
  @@index([status, inseridaEm])
  @@index([subareaInteresseId])
  @@index([subcategoriaVagaId])
  @@index([usuarioId])
}

model EmpresasVagasCategorias {
  id                         String                       @id @default(uuid())
  codCategoria               String                       @unique @db.VarChar(12)
  nome                       String                       @unique @db.VarChar(120)
  descricao                  String?                      @db.VarChar(255)
  criadoEm                   DateTime                     @default(now())
  atualizadoEm               DateTime                     @default(now())
  EmpresasVagas              EmpresasVagas[]
  EmpresasVagasSubcategorias EmpresasVagasSubcategorias[]

  @@index([nome])
}

model EmpresasVagasDestaque {
  id              String        @id @default(uuid())
  vagaId          String        @unique
  empresasPlanoId String
  ativo           Boolean       @default(true)
  ativadoEm       DateTime      @default(now())
  desativadoEm    DateTime?
  criadoEm        DateTime      @default(now())
  atualizadoEm    DateTime      @default(now())
  EmpresasPlano   EmpresasPlano @relation(fields: [empresasPlanoId], references: [id], onDelete: Cascade)
  EmpresasVagas   EmpresasVagas @relation(fields: [vagaId], references: [id], onDelete: Cascade)

  @@index([empresasPlanoId, ativo])
}

model EmpresasVagasProcesso {
  id              String                    @id @default(uuid())
  vagaId          String
  candidatoId     String
  statusId        String
  origem          OrigemVagas               @default(SITE)
  observacoes     String?                   @db.VarChar(1000)
  agendadoEm      DateTime?
  criadoEm        DateTime                  @default(now())
  atualizadoEm    DateTime                  @default(now())
  Usuarios        Usuarios                  @relation(fields: [candidatoId], references: [id], onDelete: Cascade)
  status_processo StatusProcessosCandidatos @relation(fields: [statusId], references: [id])
  EmpresasVagas   EmpresasVagas             @relation(fields: [vagaId], references: [id], onDelete: Cascade)

  @@unique([vagaId, candidatoId])
  @@index([candidatoId])
  @@index([origem])
  @@index([statusId])
  @@index([vagaId])
}

enum EntrevistaStatus {
  AGENDADA
  CANCELADA
}

model EmpresasVagasEntrevistas {
  id                String           @id @default(uuid())
  vagaId            String
  candidatoId       String
  empresaUsuarioId  String
  recrutadorId      String
  titulo            String           @db.VarChar(255)
  descricao         String?          @db.Text
  dataInicio        DateTime
  dataFim           DateTime
  meetUrl           String           @db.Text
  meetEventId       String?          @db.VarChar(255)
  status            EntrevistaStatus @default(AGENDADA)
  criadoEm          DateTime         @default(now())
  atualizadoEm      DateTime         @default(now())

  EmpresasVagas     EmpresasVagas    @relation(fields: [vagaId], references: [id], onDelete: Cascade)
  candidato         Usuarios         @relation("EmpresasVagasEntrevistas_candidatoIdToUsuarios", fields: [candidatoId], references: [id], onDelete: Cascade)
  empresa           Usuarios         @relation("EmpresasVagasEntrevistas_empresaUsuarioIdToUsuarios", fields: [empresaUsuarioId], references: [id], onDelete: Cascade)
  recrutador        Usuarios         @relation("EmpresasVagasEntrevistas_recrutadorIdToUsuarios", fields: [recrutadorId], references: [id], onDelete: Cascade)

  @@index([candidatoId])
  @@index([empresaUsuarioId])
  @@index([recrutadorId])
  @@index([vagaId])
  @@index([status, dataInicio])
}

model EmpresasVagasSubcategorias {
  id                      String                  @id @default(uuid())
  codSubcategoria         String                  @unique @db.VarChar(12)
  nome                    String                  @db.VarChar(120)
  descricao               String?                 @db.VarChar(255)
  categoriaId             String
  criadoEm                DateTime                @default(now())
  atualizadoEm            DateTime                @default(now())
  EmpresasVagas           EmpresasVagas[]
  EmpresasVagasCategorias EmpresasVagasCategorias @relation(fields: [categoriaId], references: [id], onDelete: Cascade)

  @@unique([categoriaId, nome])
  @@index([nome])
}

model LogEmail {
  id           String        @id @default(uuid())
  usuarioId    String?
  email        String
  tipoEmail    TiposDeEmails
  status       StatusEmail
  tentativas   Int           @default(1)
  erro         String?
  messageId    String?
  criadoEm     DateTime      @default(now())
  atualizadoEm DateTime      @default(now())

  @@index([criadoEm])
  @@index([email])
  @@index([tipoEmail])
  @@index([usuarioId])
}

model LogSMS {
  id           String    @id @default(uuid())
  usuarioId    String?
  telefone     String
  tipoSMS      TipoSMS
  status       StatusSMS
  tentativas   Int       @default(1)
  erro         String?
  messageId    String?
  criadoEm     DateTime  @default(now())
  atualizadoEm DateTime  @default(now())

  @@index([criadoEm])
  @@index([telefone])
  @@index([tipoSMS])
  @@index([usuarioId])
}

model LogsPagamentosDeAssinaturas {
  id              String   @id @default(uuid())
  usuarioId       String?
  empresasPlanoId String?
  tipo            String
  status          String?
  externalRef     String?
  mpResourceId    String?
  payload         Json?
  mensagem        String?
  criadoEm        DateTime @default(now())

  @@index([criadoEm])
  @@index([empresasPlanoId])
  @@index([tipo])
  @@index([usuarioId])
}

model PlanosEmpresariais {
  id                      String                 @id @default(uuid())
  icon                    String
  nome                    String
  descricao               String
  valor                   String
  desconto                Float?
  quantidadeVagas         Int
  vagaEmDestaque          Boolean                @default(false)
  quantidadeVagasDestaque Int?
  criadoEm                DateTime               @default(now())
  atualizadoEm            DateTime               @default(now())
  mpPreapprovalPlanId     String?                @unique
  CuponsDescontoPlanos    CuponsDescontoPlanos[]
  EmpresasPlano           EmpresasPlano[]
}

model Usuarios {
  id                                                               String                       @id @default(uuid())
  nomeCompleto                                                     String
  authId                                                           String                       @unique
  cpf                                                              String?                      @unique
  cnpj                                                             String?                      @unique
  email                                                            String                       @unique
  senha                                                            String
  codUsuario                                                       String                       @unique
  tipoUsuario                                                      TiposDeUsuarios
  role                                                             Roles
  status                                                           Status                       @default(ATIVO)
  criadoEm                                                         DateTime                     @default(now())
  atualizadoEm                                                     DateTime                     @default(now())
  ultimoLogin                                                      DateTime?
  refreshToken                                                     String?
  // Google OAuth campos
  googleAccessToken                                                String?                      @db.Text
  googleRefreshToken                                               String?                      @db.Text
  googleCalendarId                                                 String?                      @db.VarChar(255)
  googleTokenExpiraEm                                              DateTime?
  AuditoriaLogs                                                    AuditoriaLogs[]
  AuditoriaScripts                                                 AuditoriaScripts[]
  AuditoriaTransacoes_AuditoriaTransacoes_empresaIdToUsuarios      AuditoriaTransacoes[]        @relation("AuditoriaTransacoes_empresaIdToUsuarios")
  AuditoriaTransacoes_AuditoriaTransacoes_usuarioIdToUsuarios      AuditoriaTransacoes[]        @relation("AuditoriaTransacoes_usuarioIdToUsuarios")
  CuponsDesconto                                                   CuponsDesconto[]
  CursosCertificadosEmitidos                                       CursosCertificadosEmitidos[]
  CursosEstagios_CursosEstagios_alunoIdToUsuarios                  CursosEstagios[]             @relation("CursosEstagios_alunoIdToUsuarios")
  CursosEstagios_CursosEstagios_atualizadoPorIdToUsuarios          CursosEstagios[]             @relation("CursosEstagios_atualizadoPorIdToUsuarios")
  CursosEstagios_CursosEstagios_criadoPorIdToUsuarios              CursosEstagios[]             @relation("CursosEstagios_criadoPorIdToUsuarios")
  CursosTurmas                                                     CursosTurmas[]
  CursosTurmasInscricoes                                           CursosTurmasInscricoes[]
  EmpresasAuditoria_EmpresasAuditoria_alteradoPorToUsuarios        EmpresasAuditoria[]          @relation("EmpresasAuditoria_alteradoPorToUsuarios")
  EmpresasAuditoria_EmpresasAuditoria_empresaIdToUsuarios          EmpresasAuditoria[]          @relation("EmpresasAuditoria_empresaIdToUsuarios")
  EmpresasCandidatos_EmpresasCandidatos_candidatoIdToUsuarios      EmpresasCandidatos[]         @relation("EmpresasCandidatos_candidatoIdToUsuarios")
  EmpresasCandidatos_EmpresasCandidatos_empresaUsuarioIdToUsuarios EmpresasCandidatos[]         @relation("EmpresasCandidatos_empresaUsuarioIdToUsuarios")
  EmpresasPlano                                                    EmpresasPlano[]
  EmpresasVagas                                                    EmpresasVagas[]
  EmpresasVagasProcesso                                            EmpresasVagasProcesso[]
  UsuariosCandidatosLogs                                           UsuariosCandidatosLogs[]
  UsuariosCurriculos                                               UsuariosCurriculos[]
  UsuariosEmBloqueios_UsuariosEmBloqueios_aplicadoPorIdToUsuarios  UsuariosEmBloqueios[]        @relation("UsuariosEmBloqueios_aplicadoPorIdToUsuarios")
  UsuariosEmBloqueios_UsuariosEmBloqueios_usuarioIdToUsuarios      UsuariosEmBloqueios[]        @relation("UsuariosEmBloqueios_usuarioIdToUsuarios")
  UsuariosEmBloqueiosLogs                                          UsuariosEmBloqueiosLogs[]
  UsuariosEnderecos                                                UsuariosEnderecos[]
  UsuariosInformation                                              UsuariosInformation?
  UsuariosRecuperacaoSenha                                         UsuariosRecuperacaoSenha?
  UsuariosRedesSociais                                             UsuariosRedesSociais?
  UsuariosSessoes                                                  UsuariosSessoes[]
  UsuariosVerificacaoEmail                                         UsuariosVerificacaoEmail?
  status_processo                                                  StatusProcessosCandidatos[]
  // Requerimentos
  Requerimentos_usuarioId                                          Requerimentos[]              @relation("Requerimentos_usuarioId")
  Requerimentos_atribuidoParaId                                    Requerimentos[]              @relation("Requerimentos_atribuidoParaId")
  RequerimentosHistorico                                           RequerimentosHistorico[]
  // Notificações
  Notificacoes                                                     Notificacoes[]
  Requerimentos                                                    Requerimentos[]
  // Novos relacionamentos de aulas
  AulasCriadas                                                     CursosTurmasAulas[]          @relation("AulasCriadas")
  AulasInstrutor                                                   CursosTurmasAulas[]          @relation("AulasInstrutor")
  AulasProgresso                                                   CursosAulasProgresso[]       @relation("AulasProgresso")
  AulasHistorico                                                   CursosAulasHistorico[]       @relation("AulasHistorico")
  NotificacoesEnviadas                                             NotificacoesEnviadas[]       @relation("NotificacoesEnviadas")
  HistoricoInstrutorAulas                                          AulaInstrutorHistorico[]     @relation("HistoricoInstrutor")
  HistoricoRemocaoInstrutor                                        AulaInstrutorHistorico[]     @relation("HistoricoRemovidoPor")
  EmpresasVagasEntrevistas_EmpresasVagasEntrevistas_candidatoIdToUsuarios EmpresasVagasEntrevistas[] @relation("EmpresasVagasEntrevistas_candidatoIdToUsuarios")
  EmpresasVagasEntrevistas_EmpresasVagasEntrevistas_empresaUsuarioIdToUsuarios EmpresasVagasEntrevistas[] @relation("EmpresasVagasEntrevistas_empresaUsuarioIdToUsuarios")
  EmpresasVagasEntrevistas_EmpresasVagasEntrevistas_recrutadorIdToUsuarios EmpresasVagasEntrevistas[] @relation("EmpresasVagasEntrevistas_recrutadorIdToUsuarios")
  // Vínculos RECRUTADOR -> EMPRESA (controle de acesso)
  UsuariosEmpresasVinculos_UsuariosEmpresasVinculos_recrutadorIdToUsuarios UsuariosEmpresasVinculos[] @relation("UsuariosEmpresasVinculos_recrutadorIdToUsuarios")
  UsuariosEmpresasVinculos_UsuariosEmpresasVinculos_empresaUsuarioIdToUsuarios UsuariosEmpresasVinculos[] @relation("UsuariosEmpresasVinculos_empresaUsuarioIdToUsuarios")
  UsuariosVagasVinculos_UsuariosVagasVinculos_recrutadorIdToUsuarios UsuariosVagasVinculos[] @relation("UsuariosVagasVinculos_recrutadorIdToUsuarios")
  // Provas e Atividades como instrutor
  CursosTurmasProvas                                                   CursosTurmasProvas[]

  @@index([criadoEm])
  @@index([role])
  @@index([status])
  @@index([tipoUsuario])
  @@index([role, status, criadoEm], map: "usuarios_role_status_criadoem_idx")
  @@index([tipoUsuario, role, status, criadoEm], map: "usuarios_tipo_role_status_criadoem_idx")
  // ✅ Índices adicionais para otimização de queries (índices parciais serão criados via migração SQL)
  @@index([role, status, criadoEm(sort: Desc)], map: "usuarios_role_status_criadoem_desc_idx")
  @@index([googleCalendarId])
}

model UsuariosEmpresasVinculos {
  id                                                          String   @id @default(uuid())
  recrutadorId                                                 String
  empresaUsuarioId                                             String
  criadoEm                                                     DateTime @default(now())
  atualizadoEm                                                 DateTime @default(now())
  Usuarios_UsuariosEmpresasVinculos_recrutadorIdToUsuarios      Usuarios @relation("UsuariosEmpresasVinculos_recrutadorIdToUsuarios", fields: [recrutadorId], references: [id], onDelete: Cascade)
  Usuarios_UsuariosEmpresasVinculos_empresaUsuarioIdToUsuarios  Usuarios @relation("UsuariosEmpresasVinculos_empresaUsuarioIdToUsuarios", fields: [empresaUsuarioId], references: [id], onDelete: Cascade)

  @@unique([recrutadorId, empresaUsuarioId])
  @@index([empresaUsuarioId])
  @@index([recrutadorId])
}

model UsuariosVagasVinculos {
  id                                                     String       @id @default(uuid())
  recrutadorId                                           String
  vagaId                                                 String
  criadoEm                                               DateTime     @default(now())
  atualizadoEm                                           DateTime     @default(now())
  Usuarios_UsuariosVagasVinculos_recrutadorIdToUsuarios   Usuarios     @relation("UsuariosVagasVinculos_recrutadorIdToUsuarios", fields: [recrutadorId], references: [id], onDelete: Cascade)
  EmpresasVagas                                          EmpresasVagas @relation(fields: [vagaId], references: [id], onDelete: Cascade)

  @@unique([recrutadorId, vagaId])
  @@index([recrutadorId])
  @@index([vagaId])
}

model UsuariosCandidatosLogs {
  id        String           @id @default(uuid())
  usuarioId String
  tipo      CandidatoLogTipo
  descricao String?          @db.VarChar(500)
  metadata  Json?
  criadoEm  DateTime         @default(now())
  Usuarios  Usuarios         @relation(fields: [usuarioId], references: [id], onDelete: Cascade)

  @@index([usuarioId, criadoEm])
}

// =============================================================================
// REQUERIMENTOS - Sistema de solicitações de usuários para administração
// =============================================================================

model Requerimentos {
  id                     String                   @id @default(uuid())
  codigo                 String                   @unique @db.VarChar(20) // REQ-2025-00001
  usuarioId              String // Quem abriu o requerimento
  tipo                   RequerimentoTipo
  prioridade             RequerimentoPrioridade   @default(MEDIA)
  status                 RequerimentoStatus       @default(ABERTO)
  titulo                 String                   @db.VarChar(200)
  descricao              String                   @db.Text
  // Referências opcionais (para vincular a entidades específicas)
  empresasPlanoId        String? // Se for sobre um plano específico
  empresasVagaId         String? // Se for sobre uma vaga específica
  // Dados de reembolso (se aplicável)
  valorReembolso         Decimal?                 @db.Decimal(12, 2)
  motivoReembolso        String?                  @db.VarChar(500)
  // Administração
  atribuidoParaId        String? // Admin responsável
  respostaAdmin          String?                  @db.Text
  resolvidoEm            DateTime?
  // Metadados
  anexos                 Json? // Array de URLs de anexos
  metadata               Json? // Dados adicionais
  // Timestamps
  criadoEm               DateTime                 @default(now())
  atualizadoEm           DateTime                 @default(now())
  // Relações
  Usuario                Usuarios                 @relation("Requerimentos_usuarioId", fields: [usuarioId], references: [id], onDelete: Cascade)
  AtribuidoPara          Usuarios?                @relation("Requerimentos_atribuidoParaId", fields: [atribuidoParaId], references: [id])
  EmpresasPlano          EmpresasPlano?           @relation(fields: [empresasPlanoId], references: [id])
  EmpresasVaga           EmpresasVagas?           @relation(fields: [empresasVagaId], references: [id])
  RequerimentosHistorico RequerimentosHistorico[]
  usuarios               Usuarios?                @relation(fields: [usuariosId], references: [id])
  usuariosId             String?

  @@index([usuarioId])
  @@index([status])
  @@index([tipo])
  @@index([criadoEm])
  @@index([atribuidoParaId])
  @@index([empresasPlanoId])
}

model RequerimentosHistorico {
  id             String              @id @default(uuid())
  requerimentoId String
  usuarioId      String // Quem fez a ação
  statusAnterior RequerimentoStatus?
  statusNovo     RequerimentoStatus?
  acao           String              @db.VarChar(100) // CRIADO, STATUS_ALTERADO, COMENTARIO, ATRIBUIDO, etc.
  comentario     String?             @db.Text
  metadata       Json?
  criadoEm       DateTime            @default(now())
  Requerimento   Requerimentos       @relation(fields: [requerimentoId], references: [id], onDelete: Cascade)
  Usuario        Usuarios            @relation(fields: [usuarioId], references: [id])

  @@index([requerimentoId, criadoEm])
}

// =============================================
// MODELO DE NOTIFICAÇÕES
// =============================================

model Notificacoes {
  id              String                @id @default(uuid())
  usuarioId       String // Usuário que receberá a notificação
  tipo            NotificacaoTipo // Tipo da notificação
  status          NotificacaoStatus     @default(NAO_LIDA)
  prioridade      NotificacaoPrioridade @default(NORMAL)
  titulo          String                @db.VarChar(200)
  mensagem        String                @db.Text
  // Referências opcionais para entidades relacionadas
  vagaId          String? // Se for sobre uma vaga
  candidaturaId   String? // Se for sobre uma candidatura
  empresasPlanoId String? // Se for sobre um plano
  // Dados extras (ex: motivo de rejeição, detalhes do pagamento, etc.)
  dados           Json? // Dados adicionais em formato JSON
  // Link de ação (onde o usuário pode clicar para ver mais detalhes)
  linkAcao        String?               @db.VarChar(500)
  // Controle de leitura
  lidaEm          DateTime?
  // Timestamps
  criadoEm        DateTime              @default(now())
  expiraEm        DateTime? // Algumas notificações podem expirar
  // Relações
  Usuario         Usuarios              @relation(fields: [usuarioId], references: [id], onDelete: Cascade)
  Vaga            EmpresasVagas?        @relation(fields: [vagaId], references: [id], onDelete: SetNull)
  Candidatura     EmpresasCandidatos?   @relation(fields: [candidaturaId], references: [id], onDelete: SetNull)
  EmpresasPlano   EmpresasPlano?        @relation(fields: [empresasPlanoId], references: [id], onDelete: SetNull)

  @@index([usuarioId, status])
  @@index([usuarioId, criadoEm])
  @@index([tipo])
  @@index([status])
  @@index([vagaId])
  @@index([empresasPlanoId])
}

model UsuariosCurriculos {
  id                  String               @id @default(uuid())
  usuarioId           String
  titulo              String?              @db.VarChar(255)
  resumo              String?
  objetivo            String?              @db.VarChar(1000)
  principal           Boolean              @default(false)
  areasInteresse      Json?
  preferencias        Json?
  habilidades         Json?
  idiomas             Json?
  experiencias        Json?
  formacao            Json?
  cursosCertificacoes Json?
  premiosPublicacoes  Json?
  acessibilidade      Json?
  consentimentos      Json?
  ultimaAtualizacao   DateTime             @default(now())
  criadoEm            DateTime             @default(now())
  atualizadoEm        DateTime             @default(now())
  EmpresasCandidatos  EmpresasCandidatos[]
  Usuarios            Usuarios             @relation(fields: [usuarioId], references: [id], onDelete: Cascade)

  @@index([usuarioId, criadoEm])
}

model UsuariosEmBloqueios {
  id                                                   String                    @id @default(uuid())
  usuarioId                                            String
  aplicadoPorId                                        String
  tipo                                                 TiposDeBloqueios
  motivo                                               MotivosDeBloqueios
  status                                               StatusDeBloqueios         @default(ATIVO)
  inicio                                               DateTime                  @default(now())
  fim                                                  DateTime?
  observacoes                                          String?                   @db.VarChar(500)
  criadoEm                                             DateTime                  @default(now())
  atualizadoEm                                         DateTime                  @default(now())
  Usuarios_UsuariosEmBloqueios_aplicadoPorIdToUsuarios Usuarios                  @relation("UsuariosEmBloqueios_aplicadoPorIdToUsuarios", fields: [aplicadoPorId], references: [id])
  Usuarios_UsuariosEmBloqueios_usuarioIdToUsuarios     Usuarios                  @relation("UsuariosEmBloqueios_usuarioIdToUsuarios", fields: [usuarioId], references: [id], onDelete: Cascade)
  UsuariosEmBloqueiosLogs                              UsuariosEmBloqueiosLogs[]

  @@index([fim])
  @@index([status])
  @@index([usuarioId])
}

model UsuariosEmBloqueiosLogs {
  id                  String               @id @default(uuid())
  bloqueioId          String
  acao                AcoesDeLogDeBloqueio
  descricao           String?              @db.VarChar(500)
  criadoPorId         String
  criadoEm            DateTime             @default(now())
  UsuariosEmBloqueios UsuariosEmBloqueios  @relation(fields: [bloqueioId], references: [id], onDelete: Cascade)
  Usuarios            Usuarios             @relation(fields: [criadoPorId], references: [id])

  @@index([bloqueioId])
  @@index([criadoEm])
  @@index([criadoPorId])
}

model UsuariosEnderecos {
  id           String   @id @default(uuid())
  usuarioId    String
  logradouro   String?
  numero       String?
  bairro       String?
  cidade       String?
  estado       String?
  cep          String?
  criadoEm     DateTime @default(now())
  atualizadoEm DateTime @default(now())
  Usuarios     Usuarios @relation(fields: [usuarioId], references: [id])

  // ✅ Índices para otimização de queries de listagem
  // Nota: Índices parciais (WHERE cidade IS NOT NULL) são criados via migração SQL
  @@index([cidade])
  @@index([estado])
  @@index([cidade, estado])
  @@index([usuarioId, criadoEm(sort: Desc)])
}

model UsuariosInformation {
  usuarioId     String    @id
  telefone      String
  genero        String?
  dataNasc      DateTime?
  inscricao     String?
  avatarUrl     String?
  descricao     String?   @db.VarChar(500)
  aceitarTermos Boolean   @default(false)
  Usuarios      Usuarios  @relation(fields: [usuarioId], references: [id], onDelete: Cascade)
}

model UsuariosRecuperacaoSenha {
  id                         String    @id @default(uuid())
  usuarioId                  String    @unique
  tokenRecuperacao           String?
  tokenRecuperacaoExp        DateTime?
  tentativasRecuperacao      Int       @default(0)
  ultimaTentativaRecuperacao DateTime?
  criadoEm                   DateTime  @default(now())
  atualizadoEm               DateTime  @default(now())
  Usuarios                   Usuarios  @relation(fields: [usuarioId], references: [id], onDelete: Cascade)

  @@index([tokenRecuperacao])
}

model UsuariosRedesSociais {
  id        String   @id @default(uuid())
  usuarioId String   @unique
  instagram String?
  linkedin  String?
  facebook  String?
  youtube   String?
  twitter   String?
  tiktok    String?
  createdAt DateTime @default(now())
  updatedAt DateTime
  Usuarios  Usuarios @relation(fields: [usuarioId], references: [id], onDelete: Cascade)

  @@index([usuarioId])
}

model UsuariosSessoes {
  id           String    @id @default(uuid())
  usuarioId    String
  refreshToken String    @unique
  rememberMe   Boolean   @default(false)
  ip           String?   @db.VarChar(45)
  userAgent    String?   @db.VarChar(512)
  criadoEm     DateTime  @default(now())
  atualizadoEm DateTime  @default(now())
  expiraEm     DateTime
  revogadoEm   DateTime?
  Usuarios     Usuarios  @relation(fields: [usuarioId], references: [id], onDelete: Cascade)

  @@index([expiraEm])
  @@index([usuarioId, rememberMe])
}

model UsuariosVerificacaoEmail {
  usuarioId                  String    @id
  emailVerificado            Boolean   @default(false)
  emailVerificadoEm          DateTime?
  emailVerificationToken     String?   @unique
  emailVerificationTokenExp  DateTime?
  emailVerificationAttempts  Int       @default(0)
  ultimaTentativaVerificacao DateTime?
  Usuarios                   Usuarios  @relation(fields: [usuarioId], references: [id], onDelete: Cascade)

  @@index([emailVerificationTokenExp])
  @@index([emailVerificationToken])
}

model WebsiteAdvanceAjuda {
  id           String   @id @default(uuid())
  titulo       String
  descricao    String
  imagemUrl    String
  imagemTitulo String
  titulo1      String
  descricao1   String
  titulo2      String
  descricao2   String
  titulo3      String
  descricao3   String
  criadoEm     DateTime @default(now())
  atualizadoEm DateTime @default(now())
}

model WebsiteBanner {
  id                 String              @id @default(uuid())
  imagemUrl          String
  imagemTitulo       String
  link               String?
  criadoEm           DateTime            @default(now())
  atualizadoEm       DateTime            @default(now())
  WebsiteBannerOrdem WebsiteBannerOrdem?
}

model WebsiteBannerOrdem {
  id              String        @id @default(uuid())
  websiteBannerId String        @unique
  ordem           Int           @unique
  status          WebsiteStatus @default(RASCUNHO)
  criadoEm        DateTime      @default(now())
  WebsiteBanner   WebsiteBanner @relation(fields: [websiteBannerId], references: [id], onDelete: Cascade)

  @@index([ordem])
  @@index([status])
}

model WebsiteConexaoForte {
  id            String   @id @default(uuid())
  titulo        String
  descricao     String
  imagemUrl1    String
  imagemTitulo1 String
  imagemUrl2    String
  imagemTitulo2 String
  imagemUrl3    String
  imagemTitulo3 String
  imagemUrl4    String
  imagemTitulo4 String
  criadoEm      DateTime @default(now())
  atualizadoEm  DateTime @default(now())
}

model WebsiteConsultoria {
  id           String   @id @default(uuid())
  imagemUrl    String
  imagemTitulo String
  titulo       String
  descricao    String
  buttonUrl    String
  buttonLabel  String
  criadoEm     DateTime @default(now())
  atualizadoEm DateTime @default(now())
}

model WebsiteDepoimento {
  id                     String                  @id @default(uuid())
  depoimento             String
  nome                   String
  cargo                  String
  fotoUrl                String
  criadoEm               DateTime                @default(now())
  atualizadoEm           DateTime                @default(now())
  WebsiteDepoimentoOrdem WebsiteDepoimentoOrdem?
}

model WebsiteDepoimentoOrdem {
  id                  String            @id @default(uuid())
  websiteDepoimentoId String            @unique
  ordem               Int               @unique
  status              WebsiteStatus     @default(RASCUNHO)
  criadoEm            DateTime          @default(now())
  WebsiteDepoimento   WebsiteDepoimento @relation(fields: [websiteDepoimentoId], references: [id], onDelete: Cascade)

  @@index([ordem])
}

model WebsiteDiferenciais {
  id           String   @id @default(uuid())
  icone1       String
  titulo1      String
  descricao1   String
  icone2       String
  titulo2      String
  descricao2   String
  icone3       String
  titulo3      String
  descricao3   String
  icone4       String
  titulo4      String
  descricao4   String
  titulo       String
  descricao    String
  botaoUrl     String
  botaoLabel   String
  criadoEm     DateTime @default(now())
  atualizadoEm DateTime @default(now())
}

model WebsiteHeaderPage {
  id           String                @id @default(uuid())
  subtitulo    String
  titulo       String
  descricao    String
  imagemUrl    String
  buttonLabel  String
  buttonLink   String
  page         WebsiteHeaderPageType @unique
  criadoEm     DateTime              @default(now())
  atualizadoEm DateTime              @default(now())
}

model WebsiteHorarioFuncionamento {
  id                 String             @id @default(uuid())
  diaDaSemana        String
  horarioInicio      String
  horarioFim         String
  informacoesId      String
  criadoEm           DateTime           @default(now())
  atualizadoEm       DateTime           @default(now())
  WebsiteInformacoes WebsiteInformacoes @relation(fields: [informacoesId], references: [id], onDelete: Cascade)
}

model WebsiteImagemLogin {
  id           String   @id @default(uuid())
  imagemUrl    String
  imagemTitulo String
  link         String?
  criadoEm     DateTime @default(now())
  atualizadoEm DateTime @default(now())
}

model WebsiteInformacoes {
  id                          String                        @id @default(uuid())
  endereco                    String?
  cep                         String?
  cidade                      String?
  estado                      String?
  telefone1                   String?
  telefone2                   String?
  whatsapp                    String?
  linkedin                    String?
  facebook                    String?
  instagram                   String?
  youtube                     String?
  email                       String?
  criadoEm                    DateTime                      @default(now())
  atualizadoEm                DateTime                      @default(now())
  WebsiteHorarioFuncionamento WebsiteHorarioFuncionamento[]
}

model WebsiteLogoEnterprise {
  id                         String                      @id @default(uuid())
  nome                       String
  imagemUrl                  String
  imagemAlt                  String
  website                    String?
  criadoEm                   DateTime                    @default(now())
  atualizadoEm               DateTime                    @default(now())
  WebsiteLogoEnterpriseOrdem WebsiteLogoEnterpriseOrdem?
}

model WebsiteLogoEnterpriseOrdem {
  id                      String                @id @default(uuid())
  websiteLogoEnterpriseId String                @unique
  ordem                   Int                   @unique
  status                  WebsiteStatus         @default(RASCUNHO)
  criadoEm                DateTime              @default(now())
  WebsiteLogoEnterprise   WebsiteLogoEnterprise @relation(fields: [websiteLogoEnterpriseId], references: [id], onDelete: Cascade)

  @@index([ordem])
  @@index([status])
}

model WebsitePlaninhas {
  id           String   @id @default(uuid())
  titulo       String
  descricao    String
  icone1       String
  titulo1      String
  descricao1   String
  icone2       String
  titulo2      String
  descricao2   String
  icone3       String
  titulo3      String
  descricao3   String
  criadoEm     DateTime @default(now())
  atualizadoEm DateTime @default(now())
}

model WebsiteRecrutamento {
  id           String   @id @default(uuid())
  imagemUrl    String
  imagemTitulo String
  titulo       String
  descricao    String
  buttonUrl    String
  buttonLabel  String
  criadoEm     DateTime @default(now())
  atualizadoEm DateTime @default(now())
}

model WebsiteRecrutamentoSelecao {
  id           String   @id @default(uuid())
  titulo       String
  descricao    String
  imagemUrl    String
  imagemTitulo String
  titulo1      String
  titulo2      String
  titulo3      String
  titulo4      String
  criadoEm     DateTime @default(now())
  atualizadoEm DateTime @default(now())
}

model WebsiteScript {
  id           String                   @id @default(uuid())
  nome         String?
  descricao    String?
  codigo       String
  aplicacao    WebsiteScriptAplicacao   @default(WEBSITE)
  orientacao   WebsiteScriptOrientation
  status       WebsiteStatus            @default(RASCUNHO)
  criadoEm     DateTime                 @default(now())
  atualizadoEm DateTime                 @default(now())

  @@index([aplicacao, orientacao, status])
  @@index([orientacao, status])
}

model WebsiteSistema {
  id              String   @id @default(uuid())
  titulo          String
  descricao       String
  subtitulo       String
  etapa1Titulo    String
  etapa1Descricao String
  etapa2Titulo    String
  etapa2Descricao String
  etapa3Titulo    String
  etapa3Descricao String
  criadoEm        DateTime @default(now())
  atualizadoEm    DateTime @default(now())
}

model WebsiteSlider {
  id                 String              @id @default(uuid())
  sliderName         String
  imagemUrl          String
  link               String?
  criadoEm           DateTime            @default(now())
  atualizadoEm       DateTime            @default(now())
  WebsiteSliderOrdem WebsiteSliderOrdem?
}

model WebsiteSliderOrdem {
  id              String                     @id @default(uuid())
  websiteSliderId String                     @unique
  ordem           Int
  orientacao      WebsiteSlidersOrientations
  status          WebsiteStatus              @default(RASCUNHO)
  criadoEm        DateTime                   @default(now())
  WebsiteSlider   WebsiteSlider              @relation(fields: [websiteSliderId], references: [id], onDelete: Cascade)

  @@unique([ordem, orientacao])
  @@index([ordem])
}

model WebsiteSobre {
  id           String   @id @default(uuid())
  imagemUrl    String
  imagemTitulo String
  titulo       String
  descricao    String
  criadoEm     DateTime @default(now())
  atualizadoEm DateTime @default(now())
}

model WebsiteSobreEmpresa {
  id               String   @id @default(uuid())
  titulo           String
  descricao        String
  descricaoVisao   String
  descricaoMissao  String
  descricaoValores String
  videoUrl         String
  criadoEm         DateTime @default(now())
  atualizadoEm     DateTime @default(now())
}

model WebsiteTeam {
  id               String            @id @default(uuid())
  photoUrl         String
  nome             String
  cargo            String
  criadoEm         DateTime          @default(now())
  atualizadoEm     DateTime          @default(now())
  WebsiteTeamOrdem WebsiteTeamOrdem?
}

model WebsiteTeamOrdem {
  id            String        @id @default(uuid())
  websiteTeamId String        @unique
  ordem         Int           @unique
  status        WebsiteStatus @default(RASCUNHO)
  criadoEm      DateTime      @default(now())
  WebsiteTeam   WebsiteTeam   @relation(fields: [websiteTeamId], references: [id], onDelete: Cascade)

  @@index([ordem])
  @@index([status])
}

model WebsiteTreinamentoCompany {
  id           String   @id @default(uuid())
  titulo       String
  descricao    String
  imagemUrl    String
  imagemTitulo String
  titulo1      String
  titulo2      String
  titulo3      String
  titulo4      String
  criadoEm     DateTime @default(now())
  atualizadoEm DateTime @default(now())
}

model WebsiteTreinamentosInCompany {
  id           String   @id @default(uuid())
  titulo       String
  icone1       String
  descricao1   String
  icone2       String
  descricao2   String
  icone3       String
  descricao3   String
  icone4       String
  descricao4   String
  icone5       String
  descricao5   String
  criadoEm     DateTime @default(now())
  atualizadoEm DateTime @default(now())
}

model StatusProcessosCandidatos {
  id                    String                  @id @default(uuid())
  nome                  String                  @db.VarChar(100)
  descricao             String?                 @db.VarChar(500)
  ativo                 Boolean                 @default(true)
  isDefault             Boolean                 @default(false)
  criadoPor             String
  criadoEm              DateTime                @default(now())
  atualizadoEm          DateTime                @default(now())
  EmpresasCandidatos    EmpresasCandidatos[]
  EmpresasVagasProcesso EmpresasVagasProcesso[]
  Usuarios              Usuarios                @relation(fields: [criadoPor], references: [id])
}

enum AcoesDeLogDeBloqueio {
  CRIACAO
  ATUALIZACAO
  REVOGACAO
  REAVALIACAO
}

enum AuditoriaCategoria {
  SISTEMA
  USUARIO
  EMPRESA
  VAGA
  CURSO
  PAGAMENTO
  SCRIPT
  SEGURANCA
}

enum CandidatoLogTipo {
  CURRICULO_CRIADO
  CURRICULO_ATUALIZADO
  CURRICULO_REMOVIDO
  CANDIDATO_ATIVADO
  CANDIDATO_DESATIVADO
  CANDIDATURA_CRIADA
  CANDIDATURA_CANCELADA_CURRICULO
  CANDIDATURA_CANCELADA_BLOQUEIO
}

enum CuponsAplicarEm {
  TODA_PLATAFORMA
  APENAS_ASSINATURA
  APENAS_CURSOS
}

enum CuponsLimiteUso {
  ILIMITADO
  LIMITADO
}

enum CuponsLimiteUsuario {
  ILIMITADO
  LIMITADO
  PRIMEIRA_COMPRA
}

enum CuponsPeriodo {
  ILIMITADO
  PERIODO
}

enum CuponsTipoDesconto {
  PORCENTAGEM
  VALOR_FIXO
}

enum CursoStatus {
  RASCUNHO
  PUBLICADO
  INSCRICOES_ABERTAS
  INSCRICOES_ENCERRADAS
  EM_ANDAMENTO
  CONCLUIDO
  SUSPENSO
  CANCELADO
}

enum CursosAgendaTipo {
  AULA
  PROVA
  EVENTO
  ATIVIDADE
  TRABALHO
  PROJETO
  SEMINARIO
  SIMULADO
  REUNIAO
  RECESSO
  FERIADO
}

enum CursosCertificados {
  SEM_CERTIFICADO
  PARTICIPACAO
  CONCLUSAO
  APROVEITAMENTO
  COMPETENCIA
}

enum CursosCertificadosLogAcao {
  EMISSAO
  VISUALIZACAO
}

enum CursosCertificadosTipos {
  DIGITAL
  IMPRESSO
  DIGITAL_E_IMPRESSO
  VERIFICAVEL
}

enum CursosEstagioDiaSemana {
  DOMINGO
  SEGUNDA
  TERCA
  QUARTA
  QUINTA
  SEXTA
  SABADO
}

enum CursosEstagioNotificacaoTipo {
  ASSINATURA_PENDENTE
  INICIO_PROXIMO
  ENCERRAMENTO_PROXIMO
  CONCLUSAO_SOLICITADA
}

enum CursosEstagioStatus {
  PENDENTE
  EM_ANDAMENTO
  CONCLUIDO
  REPROVADO
  CANCELADO
}

enum CursosFrequenciaStatus {
  PRESENTE
  AUSENTE
  JUSTIFICADO
  ATRASADO
}

enum CursosLocalProva {
  TURMA
  MODULO
}

enum CursosAvaliacaoTipo {
  PROVA
  ATIVIDADE
}

enum CursosAtividadeTipo {
  QUESTOES
  PERGUNTA_RESPOSTA
}

enum CursosTipoQuestao {
  TEXTO
  MULTIPLA_ESCOLHA
  ANEXO
}

enum CursosMateriais {
  APOSTILA
  SLIDE
  VIDEOAULA
  AUDIOAULA
  ARTIGO
  EXERCICIO
  SIMULADO
  LIVRO
  CERTIFICADO
  OUTRO
}

enum CursosMetodos {
  ONLINE
  PRESENCIAL
  LIVE
  SEMIPRESENCIAL
}

enum CursosTipoLink {
  YOUTUBE
  MEET
}

enum CursosAulaStatus {
  RASCUNHO
  PUBLICADA
  EM_ANDAMENTO
  CONCLUIDA
  CANCELADA
}

enum CursosAcaoHistorico {
  CRIADA
  EDITADA
  VINCULADA_TURMA
  DESVINCULADA_TURMA
  STATUS_ALTERADO
  CANCELADA
  RESTAURADA
}

enum CursosModelosRecuperacao {
  SUBSTITUI_MENOR
  MEDIA_MINIMA_DIRETA
  PROVA_FINAL_UNICA
  NOTA_MAXIMA_LIMITADA
}

enum CursosNotasTipo {
  PROVA
  TRABALHO
  ATIVIDADE
  PROJETO
  SEMINARIO
  PARTICIPACAO
  SIMULADO
  BONUS
  OUTRO
}

enum CursosSituacaoFinal {
  EM_ANALISE
  APROVADO
  REPROVADO
}

enum CursosStatusPadrao {
  PUBLICADO
  RASCUNHO
}

enum CursosTurnos {
  MANHA
  TARDE
  NOITE
  INTEGRAL
}

enum EmpresasAuditoriaAcao {
  EMPRESA_CRIADA
  EMPRESA_ATUALIZADA
  PLANO_ASSIGNADO
  PLANO_ATUALIZADO
  PLANO_CANCELADO
  PLANO_EXPIRADO
  BLOQUEIO_APLICADO
  BLOQUEIO_REVOGADO
  STATUS_ALTERADO
  DADOS_ALTERADOS
}

enum EmpresasPlanoModo {
  CLIENTE
  TESTE
  PARCEIRO
}

enum EmpresasPlanoOrigin {
  CHECKOUT
  ADMIN
  IMPORT
}

enum EmpresasPlanoStatus {
  ATIVO
  SUSPENSO
  EXPIRADO
  CANCELADO
}

enum Jornadas {
  INTEGRAL
  MEIO_PERIODO
  FLEXIVEL
  TURNOS
  NOTURNO
}

enum METODO_PAGAMENTO {
  CARTAO_CREDITO
  CARTAO_DEBITO
  PIX
  BOLETO
  TRANSFERENCIA
  DINHEIRO
}

enum MODELO_PAGAMENTO {
  ASSINATURA
  PAGAMENTO_UNICO
  PAGAMENTO_PARCELADO
}

enum ModalidadesDeVagas {
  PRESENCIAL
  REMOTO
  HIBRIDO
}

enum MotivosDeBloqueios {
  SPAM
  VIOLACAO_POLITICAS
  FRAUDE
  ABUSO_DE_RECURSOS
  OUTROS
}

enum OrigemVagas {
  SITE
  DASHBOARD
  OUTROS
}

enum RegimesDeTrabalhos {
  CLT
  TEMPORARIO
  ESTAGIO
  PJ
  HOME_OFFICE
  JOVEM_APRENDIZ
}

enum Roles {
  ADMIN
  MODERADOR
  FINANCEIRO
  INSTRUTOR
  EMPRESA
  PEDAGOGICO
  SETOR_DE_VAGAS
  RECRUTADOR
  ALUNO_CANDIDATO
}

enum STATUS_PAGAMENTO {
  PENDENTE
  EM_PROCESSAMENTO
  APROVADO
  CONCLUIDO
  RECUSADO
  ESTORNADO
  CANCELADO
}

enum ScriptStatus {
  PENDENTE
  EXECUTANDO
  CONCLUIDO
  ERRO
  CANCELADO
}

enum ScriptTipo {
  MIGRACAO
  BACKUP
  LIMPEZA
  RELATORIO
  INTEGRACAO
  MANUTENCAO
}

enum Senioridade {
  ABERTO
  ESTAGIARIO
  JUNIOR
  PLENO
  SENIOR
  ESPECIALISTA
  LIDER
}

enum Status {
  ATIVO
  INATIVO
  BLOQUEADO
  PENDENTE
  SUSPENSO
}

enum StatusDeBloqueios {
  ATIVO
  EM_REVISAO
  REVOGADO
  EXPIRADO
}

enum StatusDeVagas {
  RASCUNHO
  EM_ANALISE
  PUBLICADO
  EXPIRADO
  DESPUBLICADA
  PAUSADA
  ENCERRADA
}

enum StatusEmail {
  ENVIADO
  FALHA
  PENDENTE
}

enum StatusInscricao {
  AGUARDANDO_PAGAMENTO
  INSCRITO
  EM_ANDAMENTO
  CONCLUIDO
  REPROVADO
  EM_ESTAGIO
  CANCELADO
  TRANCADO
}

enum StatusSMS {
  ENVIADO
  FALHA
  PENDENTE
}

enum TipoSMS {
  VERIFICACAO
  NOTIFICACAO
  MARKETING
}

enum TiposDeArquivos {
  pdf
  docx
  xlsx
  pptx
  imagem
  video
  audio
  zip
  link
  outro
}

enum TiposDeBloqueios {
  TEMPORARIO
  PERMANENTE
  RESTRICAO_DE_RECURSO
}

enum TiposDeEmails {
  BOAS_VINDAS
  RECUPERACAO_SENHA
  VERIFICACAO_EMAIL
  NOTIFICACAO_SISTEMA
}

enum TiposDeUsuarios {
  PESSOA_FISICA
  PESSOA_JURIDICA
}

enum TransacaoStatus {
  PENDENTE
  PROCESSANDO
  APROVADA
  RECUSADA
  CANCELADA
  ESTORNADA
}

enum TransacaoTipo {
  PAGAMENTO
  REEMBOLSO
  ESTORNO
  ASSINATURA
  CUPOM
  TAXA
}

enum WebsiteHeaderPageType {
  SOBRE
  RECRUTAMENTO
  VAGAS
  TREINAMENTO
  CONTATO
  BLOG
  CURSOS
  POLITICA_PRIVACIDADE
  OUVIDORIA
}

enum WebsiteScriptAplicacao {
  WEBSITE
  DASHBOARD
}

enum WebsiteScriptOrientation {
  HEADER
  BODY
  FOOTER
}

enum WebsiteSlidersOrientations {
  DESKTOP
  TABLET_MOBILE
}

enum WebsiteStatus {
  PUBLICADO
  RASCUNHO
}

// =============================================================================
// REQUERIMENTOS (Solicitações de usuários para administração)
// =============================================================================

enum RequerimentoTipo {
  CANCELAMENTO_PLANO // Cancelamento de plano empresarial
  REEMBOLSO // Solicitação de reembolso (direito de arrependimento)
  SUPORTE_TECNICO // Suporte técnico geral
  ALTERACAO_DADOS // Alteração de dados cadastrais
  DENUNCIA // Denúncia de vaga/empresa
  RECLAMACAO // Reclamação geral
  OUTROS // Outros assuntos
}

enum RequerimentoStatus {
  ABERTO // Requerimento aberto, aguardando análise
  EM_ANALISE // Em análise pelo administrador
  AGUARDANDO_USUARIO // Aguardando resposta do usuário
  RESOLVIDO // Resolvido/concluído
  CANCELADO // Cancelado pelo usuário
  RECUSADO // Recusado pelo administrador
}

enum RequerimentoPrioridade {
  BAIXA
  MEDIA
  ALTA
  URGENTE
}

// =============================================
// ENUMS DE NOTIFICAÇÕES
// =============================================

enum NotificacaoTipo {
  // Notificações para EMPRESA
  VAGA_REJEITADA // Vaga foi rejeitada pelo Setor de Vagas
  VAGA_APROVADA // Vaga foi aprovada e publicada
  NOVO_CANDIDATO // Novo candidato se inscreveu na vaga
  VAGA_PREENCHIDA // Vaga atingiu limite de currículos desejados
  PLANO_EXPIRANDO // Plano irá expirar em breve (5, 3, 1 dia ou horas)
  PLANO_EXPIRADO // Plano expirou
  ASSINATURA_RENOVADA // Assinatura foi renovada automaticamente
  PAGAMENTO_APROVADO // Pagamento foi aprovado
  PAGAMENTO_RECUSADO // Pagamento foi recusado
  // Notificações para CANDIDATO (futuro)
  CANDIDATURA_VISUALIZADA // Empresa visualizou o currículo
  CANDIDATURA_APROVADA // Empresa aprovou o candidato para próxima etapa
  CANDIDATURA_REJEITADA // Empresa rejeitou a candidatura
  // Notificações de AULAS e CURSOS
  NOVA_AULA // Nova aula adicionada
  AULA_ATUALIZADA // Aula foi atualizada
  AULA_CANCELADA // Aula foi cancelada
  AULA_EM_2H // Aula ao vivo começa em 2h
  AULA_INICIADA // Aula ao vivo iniciou
  PROVA_EM_24H // Prova em 24 horas
  PROVA_EM_8H // Prova em 8 horas
  PROVA_EM_2H // Prova em 2 horas
  RECUPERACAO_FINAL_PAGAMENTO_PENDENTE // Recuperação final aguardando pagamento
  RECUPERACAO_FINAL_PAGAMENTO_APROVADO // Pagamento da recuperação final aprovado
  RECUPERACAO_FINAL_PAGAMENTO_RECUSADO // Pagamento da recuperação final recusado
  INSTRUTOR_VINCULADO // Instrutor foi vinculado à turma
  INSTRUTOR_DESVINCULADO // Instrutor foi desvinculado
  TURMA_INICIOU // Turma iniciou
  TURMA_FINALIZADA // Turma finalizou
  // Notificações gerais
  SISTEMA // Notificação do sistema
}

enum NotificacaoStatus {
  NAO_LIDA
  LIDA
  ARQUIVADA
}

enum NotificacaoPrioridade {
  BAIXA
  NORMAL
  ALTA
  URGENTE
}
